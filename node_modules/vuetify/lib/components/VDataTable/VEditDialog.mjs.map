{"version":3,"file":"VEditDialog.mjs","names":["Returnable","Themeable","keyCodes","VBtn","VMenu","mixins","extend","name","props","cancelText","default","large","Boolean","eager","persistent","saveText","transition","type","String","data","isActive","watch","val","$emit","setTimeout","focus","methods","cancel","input","$refs","content","querySelector","genButton","fn","text","$createElement","color","light","on","click","genActions","class","save","returnValue","genContent","staticClass","keydown","e","keyCode","esc","enter","ref","$slots","render","h","themeClasses","contentClass","origin","right","value","closeOnClick","closeOnContentClick","dark","scopedSlots","activator"],"sources":["../../../src/components/VDataTable/VEditDialog.ts"],"sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\n// Styles\nimport './VEditDialog.sass'\n\n// Mixins\nimport Returnable from '../../mixins/returnable'\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Component\nimport VBtn from '../VBtn'\nimport VMenu from '../VMenu'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Returnable, Themeable).extend({\n  name: 'v-edit-dialog',\n\n  props: {\n    cancelText: {\n      default: 'Cancel',\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save',\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition',\n    },\n  },\n\n  data () {\n    return {\n      isActive: false,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.$emit('open')\n        setTimeout(this.focus, 50) // Give DOM time to paint\n      } else {\n        this.$emit('close')\n      }\n    },\n  },\n\n  methods: {\n    cancel () {\n      this.isActive = false\n      this.$emit('cancel')\n    },\n    focus () {\n      const input = (this.$refs.content as Element).querySelector('input')\n      input && input.focus()\n    },\n    genButton (fn: Function, text: VNodeChildren): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true,\n        },\n        on: { click: fn },\n      }, text)\n    },\n    genActions (): VNode {\n      return this.$createElement('div', {\n        class: 'v-small-dialog__actions',\n      }, [\n        this.genButton(this.cancel, this.cancelText),\n        this.genButton(() => {\n          this.save(this.returnValue)\n          this.$emit('save')\n        }, this.saveText),\n      ])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: (e: KeyboardEvent) => {\n            e.keyCode === keyCodes.esc && this.cancel()\n            if (e.keyCode === keyCodes.enter) {\n              this.save(this.returnValue)\n              this.$emit('save')\n            }\n          },\n        },\n        ref: 'content',\n      }, [this.$slots.input])\n    },\n  },\n\n  render (h): VNode {\n    return h(VMenu, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark,\n      },\n      on: {\n        input: (val: boolean) => (this.isActive = val),\n      },\n      scopedSlots: {\n        activator: ({ on }) => {\n          return h('div', {\n            staticClass: 'v-small-dialog__activator',\n            on,\n          }, [\n            h('span', {\n              staticClass: 'v-small-dialog__activator__content',\n            }, this.$slots.default),\n          ])\n        },\n      },\n    }, [\n      this.genContent(),\n      this.large ? this.genActions() : null,\n    ])\n  },\n})\n"],"mappings":"AAAA;AACA;;AAEA;AACA;;AAEA;AAAA,OACOA,UAAU;AAAA,OACVC,SAAS,oCAEhB;AAAA,SACSC,QAAQ,kCAEjB;AAAA,OACOC,IAAI;AAAA,OACJC,KAAK,4BAEZ;AAAA,OAEOC,MAAM;AAEb;AACA,eAAeA,MAAM,CAACL,UAAU,EAAEC,SAAS,CAAC,CAACK,MAAM,CAAC;EAClDC,IAAI,EAAE,eAAe;EAErBC,KAAK,EAAE;IACLC,UAAU,EAAE;MACVC,OAAO,EAAE;IACX,CAAC;IACDC,KAAK,EAAEC,OAAO;IACdC,KAAK,EAAED,OAAO;IACdE,UAAU,EAAEF,OAAO;IACnBG,QAAQ,EAAE;MACRL,OAAO,EAAE;IACX,CAAC;IACDM,UAAU,EAAE;MACVC,IAAI,EAAEC,MAAM;MACZR,OAAO,EAAE;IACX;EACF,CAAC;EAEDS,IAAI,GAAI;IACN,OAAO;MACLC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE;IACLD,QAAQ,CAAEE,GAAG,EAAE;MACb,IAAIA,GAAG,EAAE;QACP,IAAI,CAACC,KAAK,CAAC,MAAM,CAAC;QAClBC,UAAU,CAAC,IAAI,CAACC,KAAK,EAAE,EAAE,CAAC,EAAC;MAC7B,CAAC,MAAM;QACL,IAAI,CAACF,KAAK,CAAC,OAAO,CAAC;MACrB;IACF;EACF,CAAC;EAEDG,OAAO,EAAE;IACPC,MAAM,GAAI;MACR,IAAI,CAACP,QAAQ,GAAG,KAAK;MACrB,IAAI,CAACG,KAAK,CAAC,QAAQ,CAAC;IACtB,CAAC;IACDE,KAAK,GAAI;MACP,MAAMG,KAAK,GAAI,IAAI,CAACC,KAAK,CAACC,OAAO,CAAaC,aAAa,CAAC,OAAO,CAAC;MACpEH,KAAK,IAAIA,KAAK,CAACH,KAAK,EAAE;IACxB,CAAC;IACDO,SAAS,CAAEC,EAAY,EAAEC,IAAmB,EAAS;MACnD,OAAO,IAAI,CAACC,cAAc,CAAChC,IAAI,EAAE;QAC/BK,KAAK,EAAE;UACL0B,IAAI,EAAE,IAAI;UACVE,KAAK,EAAE,SAAS;UAChBC,KAAK,EAAE;QACT,CAAC;QACDC,EAAE,EAAE;UAAEC,KAAK,EAAEN;QAAG;MAClB,CAAC,EAAEC,IAAI,CAAC;IACV,CAAC;IACDM,UAAU,GAAW;MACnB,OAAO,IAAI,CAACL,cAAc,CAAC,KAAK,EAAE;QAChCM,KAAK,EAAE;MACT,CAAC,EAAE,CACD,IAAI,CAACT,SAAS,CAAC,IAAI,CAACL,MAAM,EAAE,IAAI,CAAClB,UAAU,CAAC,EAC5C,IAAI,CAACuB,SAAS,CAAC,MAAM;QACnB,IAAI,CAACU,IAAI,CAAC,IAAI,CAACC,WAAW,CAAC;QAC3B,IAAI,CAACpB,KAAK,CAAC,MAAM,CAAC;MACpB,CAAC,EAAE,IAAI,CAACR,QAAQ,CAAC,CAClB,CAAC;IACJ,CAAC;IACD6B,UAAU,GAAW;MACnB,OAAO,IAAI,CAACT,cAAc,CAAC,KAAK,EAAE;QAChCU,WAAW,EAAE,yBAAyB;QACtCP,EAAE,EAAE;UACFQ,OAAO,EAAGC,CAAgB,IAAK;YAC7BA,CAAC,CAACC,OAAO,KAAK9C,QAAQ,CAAC+C,GAAG,IAAI,IAAI,CAACtB,MAAM,EAAE;YAC3C,IAAIoB,CAAC,CAACC,OAAO,KAAK9C,QAAQ,CAACgD,KAAK,EAAE;cAChC,IAAI,CAACR,IAAI,CAAC,IAAI,CAACC,WAAW,CAAC;cAC3B,IAAI,CAACpB,KAAK,CAAC,MAAM,CAAC;YACpB;UACF;QACF,CAAC;QACD4B,GAAG,EAAE;MACP,CAAC,EAAE,CAAC,IAAI,CAACC,MAAM,CAACxB,KAAK,CAAC,CAAC;IACzB;EACF,CAAC;EAEDyB,MAAM,CAAEC,CAAC,EAAS;IAChB,OAAOA,CAAC,CAAClD,KAAK,EAAE;MACdyC,WAAW,EAAE,gBAAgB;MAC7BJ,KAAK,EAAE,IAAI,CAACc,YAAY;MACxB/C,KAAK,EAAE;QACLgD,YAAY,EAAE,8BAA8B;QAC5CxC,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3ByC,MAAM,EAAE,WAAW;QACnBC,KAAK,EAAE,IAAI;QACXC,KAAK,EAAE,IAAI,CAACvC,QAAQ;QACpBwC,YAAY,EAAE,CAAC,IAAI,CAAC9C,UAAU;QAC9B+C,mBAAmB,EAAE,KAAK;QAC1BhD,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBwB,KAAK,EAAE,IAAI,CAACA,KAAK;QACjByB,IAAI,EAAE,IAAI,CAACA;MACb,CAAC;MACDxB,EAAE,EAAE;QACFV,KAAK,EAAGN,GAAY,IAAM,IAAI,CAACF,QAAQ,GAAGE;MAC5C,CAAC;MACDyC,WAAW,EAAE;QACXC,SAAS,EAAE,QAAY;UAAA,IAAX;YAAE1B;UAAG,CAAC;UAChB,OAAOgB,CAAC,CAAC,KAAK,EAAE;YACdT,WAAW,EAAE,2BAA2B;YACxCP;UACF,CAAC,EAAE,CACDgB,CAAC,CAAC,MAAM,EAAE;YACRT,WAAW,EAAE;UACf,CAAC,EAAE,IAAI,CAACO,MAAM,CAAC1C,OAAO,CAAC,CACxB,CAAC;QACJ;MACF;IACF,CAAC,EAAE,CACD,IAAI,CAACkC,UAAU,EAAE,EACjB,IAAI,CAACjC,KAAK,GAAG,IAAI,CAAC6B,UAAU,EAAE,GAAG,IAAI,CACtC,CAAC;EACJ;AACF,CAAC,CAAC"}